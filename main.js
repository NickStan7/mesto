(()=>{"use strict";var e={};function t(e){var t=document.querySelector(".popup_opened");"Escape"===e.key&&c(t)}function n(e){var t=document.querySelector(".popup_opened");e.target===t&&c(t)}function o(e){e.classList.add("popup_opened"),document.addEventListener("keydown",t),document.addEventListener("click",n)}function c(e){e.classList.remove("popup_opened"),document.removeEventListener("keydown",t),document.removeEventListener("click",n)}e.p="";var r=[{name:"Архыз",link:e.p+"4fb82cee112fa82a54ce.jpg"},{name:"Челябинск",link:e.p+"891feaa8132982df314d.jpg"},{name:"Иваново",link:e.p+"8343cd63ac63bc231fef.jpg"},{name:"Камчатка",link:e.p+"dedc8fa463794bd17521.jpg"},{name:"Холмогорский район",link:e.p+"65d499506831d81311e3.jpg"},{name:"Байкал",link:e.p+"cbdb1957ea0e1bb93dcf.jpg"}];function u(e){e.target.classList.toggle("element__button_theme_dark")}function l(e){e.target.closest(".element").remove()}var a=function(e){e.disabled=!0};function i(e,t){var n=e.querySelector(t.buttonSelector);a(n),e.querySelectorAll(t.inputSelector).forEach((function(o){o.addEventListener("input",(function(){(function(e,t){e.validity.valid?function(e,t){var n="error-"+e.id;document.getElementById(n).textContent="",e.classList.remove(t.ivalidPopupField)}(e,t):function(e,t,n){var o="error-"+e.id;document.getElementById(o).textContent=t,e.classList.add(n.ivalidPopupField)}(e,e.validationMessage,t)})(o,t),function(e,t){e.checkValidity()?t.disabled=!1:a(t)}(e,n)}))}))}var d=document.forms.name,p=document.querySelector(".profile__name"),m=document.querySelector(".profile__speciality"),s=document.querySelector(".profile__edit-button"),v=(document.querySelector(".popup"),document.querySelector(".profile-popup")),f=document.querySelectorAll(".popup__close"),_=d.elements.username,y=d.elements.speciality;f.forEach((function(e){return e.addEventListener("click",(function(e){c(e.target.closest(".popup"))}))})),s.addEventListener("click",(function(){var e,t;o(v),e=p.textContent,t=m.textContent,_.focus(),_.value=e,y.value=t})),d.addEventListener("submit",(function(e){var t,n;e.preventDefault(),t=_.value,n=y.value,p.textContent=t,m.textContent=n,c(v)}));var S=document.querySelector(".elements");function q(e,t){var n=document.querySelector("#place-template").content.cloneNode(!0);n.querySelector(".element__heading").textContent=e;var o=n.querySelector(".element__image");return o.src=t,o.alt=e,n.querySelector(".element__button").addEventListener("click",u),n.querySelector(".element__trash-button").addEventListener("click",l),n.querySelectorAll(".element__image").forEach((function(e){e.addEventListener("click",j)})),n}r.forEach((function(e){var t=q(e.name,e.link);S.appendChild(t)}));var g=document.querySelector(".profile__add-button"),E=document.querySelector(".popup_new-place"),k=document.querySelector("#new-place-name"),b=document.querySelector("#new-place-url");g.addEventListener("click",(function(){o(E)})),document.forms.place.addEventListener("submit",(function(){event.preventDefault();var e=q(k.value,b.value);S.insertBefore(e,S.firstChild),c(E),k.value="",b.value=""}));var L,h=document.querySelector(".popup_type_image"),C=document.querySelector(".popup__subtitle"),x=h.querySelector(".popup__image");function j(e){var t=e.target,n=t.src,c=t.alt;x.src=n,x.alt="".concat(c," вставлять"),C.textContent=c,o(h)}L={inputSelector:".popup__field",buttonSelector:".popup__save",formSelector:".popup__form",ivalidPopupField:"popup__field_invalid"},document.querySelectorAll(L.formSelector).forEach((function(e){i(e,L)}))})();